server.servlet.context-path: /ia-tjenester-metrikker

management:
  endpoint:
    prometheus:
      enabled: true
  endpoints:
    enabled-by-default: false
    web:
      exposure:
        include: prometheus
      base-path: /internal/actuator

spring:
  config.activate.on-profile: prod-gcp
  datasource:
    hikari:
      jdbc-url: "jdbc:postgresql://${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_DATABASE}"
      username: ${DATABASE_USERNAME}
      password: ${DATABASE_PASSWORD}
      driver-class-name: org.postgresql.Driver
      maximum-pool-size: 2
      minimum-idle: 1
      initialization-fail-timeout: 60000
  flyway:
    locations: classpath:/db/migration, classpath:/db/privileges

springdoc:
  api-docs:
    enabled: false
  swagger-ui:
    enabled: false

no.nav.security.jwt.issuer:
  selvbetjening:
    discoveryurl: ${LOGINSERVICE_IDPORTEN_DISCOVERY_URL}
    accepted_audience: ${LOGINSERVICE_IDPORTEN_AUDIENCE}
    cookiename: selvbetjening-idtoken
  tokenx:
    discoveryurl: ${TOKEN_X_WELL_KNOWN_URL}
    accepted_audience: ${TOKEN_X_CLIENT_ID}

tokenx-service:
  client-id: ${TOKEN_X_CLIENT_ID}
  token_endpoint: ${TOKEN_X_TOKEN_ENDPOINT}
  private_jwk: ${TOKEN_X_PRIVATE_JWK}
  altinn_rettigheter_proxy_audience: prod-gcp:arbeidsgiver:altinn-rettigheter-proxy

altinn-proxy:
  proxyUrl: http://altinn-rettigheter-proxy.arbeidsgiver/altinn-rettigheter-proxy
  fallbackUrl: https://api-gw.oera.no/
  altinnApiKey: ${ALTINN_APIKEY}
  apiGwKey: ${ALTINN_APIGW_APIKEY}

enhetsregisteret:
  url: "https://data.brreg.no/enhetsregisteret/api/"

tilgangskontroll:
  altinn-services:
    ia:
      servicecode: 3403
      serviceedition: 2
    oppfolgingsplan:
      servicecode: 5062
      serviceedition: 1

datakatalog:
  rootUrl: https://datakatalog-api.intern.nav.no/v1/datapackage/
  datapakkeId: 76cbb88ca1cd3d335810aec71c587aa1
  erUtsendingAktivert: true
